function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Y71p:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("3Pt+"),s=n("YUcS"),c=n("hctd"),o=n("tyNb"),a=n("kt0X"),u=n("M9IT"),l=n("Dh3D"),d=n("+0xr"),b=Object(a.o)("[UsersApi] Load UsersApis"),f=Object(a.o)("[UsersApi] Load UsersApis Success",Object(a.t)()),p=Object(a.o)("[UsersApi] Load UsersApis Failure",Object(a.t)()),h=Object(a.o)("[UsersApi] Add UsersApis",Object(a.t)()),m=Object(a.o)("[UsersApi] Add UsersApis Success"),O=Object(a.o)("[UsersApi] Add UsersApis Failure",Object(a.t)()),v=Object(a.o)("[UsersApi] Delete UsersApis",Object(a.t)()),y=Object(a.o)("[UsersApi] Delete UsersApis Success",Object(a.t)()),j=Object(a.o)("[UsersApi] Delete UsersApis Failure",Object(a.t)()),g=n("fXoL"),U=function(){var t={EntitiesOnly:0,Both:1,None:2};return t[t.EntitiesOnly]="EntitiesOnly",t[t.Both]="Both",t[t.None]="None",t}();function A(t){return function(e,n){var r={ids:_toConsumableArray(n.ids),entities:Object.assign({},n.entities)},i=t(e,r);return i===U.Both?Object.assign({},n,r):i===U.EntitiesOnly?Object.assign({},n,{entities:r.entities}):n}}function C(t,e){var n=e(t);return Object(g.W)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),n}function w(t){function e(e,n){var r=C(e,t);return r in n.entities?U.None:(n.ids.push(r),n.entities[r]=e,U.Both)}function n(t,n){var r=!1,i=!0,s=!1,c=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){r=e(o.value,n)!==U.None||r}}catch(u){s=!0,c=u}finally{try{i||null==a.return||a.return()}finally{if(s)throw c}}return r?U.Both:U.None}function r(t,e){var n=(t instanceof Array?t:e.ids.filter((function(n){return t(e.entities[n])}))).filter((function(t){return t in e.entities})).map((function(t){return delete e.entities[t]})).length>0;return n&&(e.ids=e.ids.filter((function(t){return t in e.entities}))),n?U.Both:U.None}function i(e,n){var r={};return(e=e.filter((function(t){return t.id in n.entities}))).length>0?e.filter((function(e){return function(e,n,r){var i=Object.assign({},r.entities[n.id],n.changes),s=C(i,t),c=s!==n.id;return c&&(e[n.id]=s,delete r.entities[n.id]),r.entities[s]=i,c}(r,e,n)})).length>0?(n.ids=n.ids.map((function(t){return r[t]||t})),U.Both):U.EntitiesOnly:U.None}function s(e,r){var s=[],c=[],o=!0,a=!1,u=void 0;try{for(var l,d=e[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var b=l.value,f=C(b,t);f in r.entities?c.push({id:f,changes:b}):s.push(b)}}catch(m){a=!0,u=m}finally{try{o||null==d.return||d.return()}finally{if(a)throw u}}var p=i(c,r),h=n(s,r);switch(!0){case h===U.None&&p===U.None:return U.None;case h===U.Both||p===U.Both:return U.Both;default:return U.EntitiesOnly}}return{removeAll:function(t){return Object.assign({},t,{ids:[],entities:{}})},addOne:A(e),addMany:A(n),addAll:A((function(t,e){return e.ids=[],e.entities={},n(t,e),U.Both})),updateOne:A((function(t,e){return i([t],e)})),updateMany:A(i),upsertOne:A((function(t,e){return s([t],e)})),upsertMany:A(s),removeOne:A((function(t,e){return r([t],e)})),removeMany:A(r),map:A((function(t,e){return i(e.ids.reduce((function(n,r){var i=t(e.entities[r]);return i!==e.entities[r]&&n.push({id:r,changes:i}),n}),[]).filter((function(t){return t.id in e.entities})),e)}))}}var I=Object(a.o)("[User/API] Load Users",Object(a.t)()),S=Object(a.o)("[User/API] Add User",Object(a.t)()),T=Object(a.o)("[User/API] Upsert User",Object(a.t)()),k=Object(a.o)("[User/API] Add Users",Object(a.t)()),_=Object(a.o)("[User/API] Upsert Users",Object(a.t)()),P=Object(a.o)("[User/API] Update User",Object(a.t)()),M=Object(a.o)("[User/API] Update Users",Object(a.t)()),x=Object(a.o)("[User/API] Delete User",Object(a.t)()),D=Object(a.o)("[User/API] Delete Users",Object(a.t)()),N=Object(a.o)("[User/API] Clear Users"),z=Object(a.o)("[User/API] Select User",Object(a.t)()),B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.assign({sortComparer:!1,selectId:function(t){return t.id}},t),n=e.selectId,r=e.sortComparer,i={getInitialState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({ids:[],entities:{}},t)}},s={getSelectors:function(t){var e=function(t){return t.ids},n=function(t){return t.entities},r=Object(a.r)(e,n,(function(t,e){return t.map((function(t){return e[t]}))})),i=Object(a.r)(e,(function(t){return t.length}));return t?{selectIds:Object(a.r)(t,e),selectEntities:Object(a.r)(t,n),selectAll:Object(a.r)(t,r),selectTotal:Object(a.r)(t,i)}:{selectIds:e,selectEntities:n,selectAll:r,selectTotal:i}}},c=r?function(t,e){var n=w(t);function r(e,n){var r=e.filter((function(e){return!(C(e,t)in n.entities)}));return 0===r.length?U.None:(c(r,n),U.Both)}function i(e,n){var r=[],i=e.filter((function(e){return function(e,n,r){if(!(n.id in r.entities))return!1;var i=Object.assign({},r.entities[n.id],n.changes),s=C(i,t);return delete r.entities[n.id],e.push(i),s!==n.id}(r,e,n)})).length>0;if(0===r.length)return U.None;var s=n.ids,o=[];return n.ids=n.ids.filter((function(t,e){return t in n.entities||(o.push(e),!1)})),c(r,n),!i&&o.every((function(t){return n.ids[t]===s[t]}))?U.EntitiesOnly:U.Both}function s(e,n){var s=[],c=[],o=!0,a=!1,u=void 0;try{for(var l,d=e[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var b=l.value,f=C(b,t);f in n.entities?c.push({id:f,changes:b}):s.push(b)}}catch(m){a=!0,u=m}finally{try{o||null==d.return||d.return()}finally{if(a)throw u}}var p=i(c,n),h=r(s,n);switch(!0){case h===U.None&&p===U.None:return U.None;case h===U.Both||p===U.Both:return U.Both;default:return U.EntitiesOnly}}function c(n,r){n.sort(e);for(var i=[],s=0,c=0;s<n.length&&c<r.ids.length;){var o=n[s],a=C(o,t),u=r.ids[c];e(o,r.entities[u])<=0?(i.push(a),s++):(i.push(u),c++)}r.ids=i.concat(s<n.length?n.slice(s).map(t):r.ids.slice(c)),n.forEach((function(e,n){r.entities[t(e)]=e}))}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:A((function(t,e){return r([t],e)})),updateOne:A((function(t,e){return i([t],e)})),upsertOne:A((function(t,e){return s([t],e)})),addAll:A((function(t,e){return e.entities={},e.ids=[],r(t,e),U.Both})),addMany:A(r),updateMany:A(i),upsertMany:A(s),map:A((function(t,e){return i(e.ids.reduce((function(n,r){var i=t(e.entities[r]);return i!==e.entities[r]&&n.push({id:r,changes:i}),n}),[]),e)}))}}(n,r):w(n);return Object.assign({selectId:n,sortComparer:r},i,s,c)}({selectId:function(t){return t.id}}),E=B.getInitialState({selectedUserId:null}),L=Object(a.q)(E,Object(a.s)(S,(function(t,e){return B.addOne(e.user,t)})),Object(a.s)(T,(function(t,e){return B.upsertOne(e.user,t)})),Object(a.s)(k,f,(function(t,e){return B.addMany(e.users,t)})),Object(a.s)(_,(function(t,e){return B.upsertMany(e.users,t)})),Object(a.s)(P,(function(t,e){return B.updateOne(e.user,t)})),Object(a.s)(M,(function(t,e){return B.updateMany(e.users,t)})),Object(a.s)(x,y,(function(t,e){return B.removeOne(e.id,t)})),Object(a.s)(D,(function(t,e){return B.removeMany(e.ids,t)})),Object(a.s)(I,(function(t,e){return B.addAll(e.users,t)})),Object(a.s)(N,(function(t){return B.removeAll(t)})),Object(a.s)(z,(function(t,e){var n=e.id;return Object.assign(Object.assign({},t),{selectedUserId:n})})));function $(t,e){return L(t,e)}var F=Object(a.q)({loaded:!1,loading:!1,ids:[]},Object(a.s)(b,(function(t){return Object.assign(Object.assign({},t),{loading:!0})})),Object(a.s)(f,(function(t,e){return{loaded:!0,loading:!1,ids:e.users.map((function(t){return t.id}))}})),Object(a.s)(p,(function(t){return Object.assign({},t)})));function q(t,e){return F(t,e)}function R(t,e){return Object(a.m)({users:$,usersApi:q})(t,e)}var Y=Object(a.p)("users"),H=Object(a.r)(Y,(function(t){return t.users})),V=B.getSelectors(H),G=V.selectEntities,J=V.selectAll,K=Object(a.r)(H,(function(t){return t.selectedUserId})),W=Object(a.r)(G,K,(function(t,e){return e&&t[e]})),X=n("XiUz"),Q=n("bTqV"),Z=n("NFeN");function tt(t,e){1&t&&(g.Ub(0,"th",15),g.zc(1,"Id"),g.Tb())}function et(t,e){if(1&t&&(g.Ub(0,"td",16),g.zc(1),g.Tb()),2&t){var n=e.$implicit;g.Cb(1),g.Ac(n.id)}}function nt(t,e){1&t&&(g.Ub(0,"th",17),g.zc(1,"Name"),g.Tb())}function rt(t,e){if(1&t&&(g.Ub(0,"td",16),g.zc(1),g.Tb()),2&t){var n=e.$implicit;g.Cb(1),g.Ac(n.first_name)}}function it(t,e){1&t&&(g.Ub(0,"th",17),g.zc(1,"Edit"),g.Tb())}function st(t,e){if(1&t){var n=g.Vb();g.Ub(0,"td",16),g.Ub(1,"button",18),g.cc("click",(function(t){g.sc(n);var r=e.$implicit;return g.gc().router.navigate(["/users/edit/"+r.id])})),g.Ub(2,"mat-icon"),g.zc(3,"edit"),g.Tb(),g.Tb(),g.Tb()}}function ct(t,e){1&t&&(g.Ub(0,"th",17),g.zc(1,"Delete"),g.Tb())}function ot(t,e){if(1&t){var n=g.Vb();g.Ub(0,"td",16),g.Ub(1,"button",18),g.cc("click",(function(t){g.sc(n);var r=e.$implicit;return g.gc().delete(r.id)})),g.Ub(2,"mat-icon"),g.zc(3,"delete"),g.Tb(),g.Tb(),g.Tb()}}function at(t,e){1&t&&g.Pb(0,"tr",19)}function ut(t,e){1&t&&g.Pb(0,"tr",20)}var lt,dt=function(){return[10,25,50,100]},bt=((lt=function(){function t(e,n){_classCallCheck(this,t),this.store=e,this.router=n,this.displayedColumns=["id","name","edit","delete"]}return _createClass(t,[{key:"ngOnInit",value:function(){this.store.dispatch(b()),this.users$=this.store.pipe(Object(a.u)(J))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){var t=this;this.subscription=this.users$.subscribe((function(e){t.dataSource=new d.k(e),t.dataSource.sort=t.sort,t.dataSource.paginator=t.paginator}))}},{key:"delete",value:function(t){this.store.dispatch(v({id:t}))}}]),t}()).\u0275fac=function(t){return new(t||lt)(g.Ob(a.h),g.Ob(o.b))},lt.\u0275cmp=g.Ib({type:lt,selectors:[["app-user-list-page"]],viewQuery:function(t,e){var n;1&t&&(g.Dc(u.a,!0),g.Dc(l.a,!0)),2&t&&(g.pc(n=g.dc())&&(e.paginator=n.first),g.pc(n=g.dc())&&(e.sort=n.first))},decls:22,vars:8,consts:[["fxLayout","column",1,"container"],["fxLayout","row","fxLayoutAlign","end"],["mat-fab","",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","edit"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(g.Ub(0,"div",0),g.Ub(1,"div",1),g.Ub(2,"button",2),g.cc("click",(function(t){return e.router.navigate(["/users/add"])})),g.Ub(3,"mat-icon"),g.zc(4,"add"),g.Tb(),g.Tb(),g.Tb(),g.Ub(5,"table",3),g.Sb(6,4),g.yc(7,tt,2,0,"th",5),g.yc(8,et,2,1,"td",6),g.Rb(),g.Sb(9,7),g.yc(10,nt,2,0,"th",8),g.yc(11,rt,2,1,"td",6),g.Rb(),g.Sb(12,9),g.yc(13,it,2,0,"th",8),g.yc(14,st,4,0,"td",6),g.Rb(),g.Sb(15,10),g.yc(16,ct,2,0,"th",8),g.yc(17,ot,4,0,"td",6),g.Rb(),g.yc(18,at,1,0,"tr",11),g.yc(19,ut,1,0,"tr",12),g.Tb(),g.Pb(20,"mat-paginator",13,14),g.Tb()),2&t&&(g.Cb(5),g.lc("dataSource",e.dataSource),g.Cb(13),g.lc("matHeaderRowDef",e.displayedColumns),g.Cb(1),g.lc("matRowDefColumns",e.displayedColumns),g.Cb(1),g.lc("length",null==e.dataSource?null:null==e.dataSource.data?null:e.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",g.mc(7,dt)))},directives:[X.b,X.a,Q.a,Z.a,d.j,l.a,d.c,d.e,d.b,d.g,d.i,u.a,d.d,l.b,d.a,d.f,d.h],styles:[".container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:20px}"]}),lt),ft=n("quSY"),pt=n("lJxs"),ht=n("Wp6s"),mt=n("kmnG"),Ot=n("qFsG");function vt(t,e){1&t&&(g.Ub(0,"mat-error"),g.zc(1," First name is "),g.Ub(2,"strong"),g.zc(3,"required"),g.Tb(),g.Tb())}function yt(t,e){1&t&&(g.Ub(0,"mat-error"),g.zc(1," Last name is "),g.Ub(2,"strong"),g.zc(3,"required"),g.Tb(),g.Tb())}var jt,gt,Ut,At,Ct,wt=((jt=function(){function t(e,n,r){var s=this;_classCallCheck(this,t),this.fb=e,this.store=n,this.route=r,this.form=this.fb.group({first_name:[null,i.m.required],last_name:[null,i.m.required]}),this.subscription=new ft.a;var c=this.route.params.pipe(Object(pt.a)((function(t){return z({id:t.id})}))).subscribe((function(t){return s.store.dispatch(t)}));this.subscription.add(c)}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user$=this.store.pipe(Object(a.u)(W));var e=this.user$.subscribe((function(e){return e&&t.form.patchValue(e)}));this.subscription.add(e)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onSubmit",value:function(){this.store.dispatch(h(this.form.value))}}]),t}()).\u0275fac=function(t){return new(t||jt)(g.Ob(i.c),g.Ob(a.h),g.Ob(o.a))},jt.\u0275cmp=g.Ib({type:jt,selectors:[["app-user-form-page"]],decls:18,vars:3,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","placeholder","First name","formControlName","first_name"],[4,"ngIf"],["matInput","","placeholder","Last name","formControlName","last_name"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,e){1&t&&(g.Ub(0,"form",0),g.cc("ngSubmit",(function(t){return e.onSubmit()})),g.Ub(1,"mat-card",1),g.Ub(2,"mat-card-header"),g.Ub(3,"mat-card-title"),g.zc(4,"User Form"),g.Tb(),g.Tb(),g.Ub(5,"mat-card-content"),g.Ub(6,"div",2),g.Ub(7,"div",3),g.Ub(8,"mat-form-field",4),g.Pb(9,"input",5),g.yc(10,vt,4,0,"mat-error",6),g.Tb(),g.Tb(),g.Ub(11,"div",3),g.Ub(12,"mat-form-field",4),g.Pb(13,"input",7),g.yc(14,yt,4,0,"mat-error",6),g.Tb(),g.Tb(),g.Tb(),g.Tb(),g.Ub(15,"mat-card-actions"),g.Ub(16,"button",8),g.zc(17,"Submit"),g.Tb(),g.Tb(),g.Tb(),g.Tb()),2&t&&(g.lc("formGroup",e.form),g.Cb(10),g.lc("ngIf",e.form.controls.first_name.hasError("required")),g.Cb(4),g.lc("ngIf",e.form.controls.last_name.hasError("required")))},directives:[i.n,i.j,i.e,ht.a,ht.d,ht.f,ht.c,mt.b,Ot.b,i.b,i.i,i.d,r.k,ht.b,Q.a,mt.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.col[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),jt),It=[{path:"",component:bt,data:{title:"User List"}},{path:"add",component:wt,data:{title:"User Form"}},{path:"edit/:id",component:wt,data:{title:"User Form"}}],St=((gt=function t(){_classCallCheck(this,t)}).\u0275mod=g.Mb({type:gt}),gt.\u0275inj=g.Lb({factory:function(t){return new(t||gt)},imports:[[o.d.forChild(It)],o.d]}),gt),Tt=n("snw9"),kt=((Ut=function t(e){_classCallCheck(this,t),this.actions$=e}).\u0275fac=function(t){return new(t||Ut)(g.Yb(Tt.a))},Ut.\u0275prov=g.Kb({token:Ut,factory:Ut.\u0275fac}),Ut),_t=n("eIep"),Pt=n("JIr8"),Mt=n("5+tZ"),xt=n("LRne"),Dt=n("tk/3"),Nt=((Ct=function(){function t(e){_classCallCheck(this,t),this.http=e,this.apiPath="http://localhost:3000/api/users"}return _createClass(t,[{key:"getUser",value:function(t){return this.http.get("".concat(this.apiPath,"/").concat(t))}},{key:"getUserList",value:function(){return this.http.get(this.apiPath)}},{key:"addUser",value:function(t){return this.http.post(this.apiPath,t)}},{key:"updateUser",value:function(t){return this.http.post("".concat(this.apiPath,"/").concat(t.id),t)}},{key:"deleteUser",value:function(t){return this.http.delete("".concat(this.apiPath,"/").concat(t))}}]),t}()).\u0275fac=function(t){return new(t||Ct)(g.Yb(Dt.a))},Ct.\u0275prov=g.Kb({token:Ct,factory:Ct.\u0275fac,providedIn:"root"}),Ct),zt=((At=function t(e,n){var r=this;_classCallCheck(this,t),this.actions$=e,this.userService=n,this.loadUsersApis$=Object(Tt.c)((function(){return r.actions$.pipe(Object(Tt.d)(b),Object(_t.a)((function(){return r.userService.getUserList().pipe(Object(pt.a)((function(t){return f({users:t})})),Object(Pt.a)((function(t){return Object(xt.a)(p({error:t}))})))})))})),this.addUsersApis$=Object(Tt.c)((function(){return r.actions$.pipe(Object(Tt.d)(h),Object(Mt.a)((function(t){var e=t.user;return r.userService.addUser(e).pipe(Object(pt.a)((function(){return m()})),Object(Pt.a)((function(t){return Object(xt.a)(O({error:t}))})))})))})),this.deleteUsersApis$=Object(Tt.c)((function(){return r.actions$.pipe(Object(Tt.d)(v),Object(Mt.a)((function(t){var e=t.id;return r.userService.deleteUser(e).pipe(Object(pt.a)((function(){return y({id:e})})),Object(Pt.a)((function(t){return Object(xt.a)(j({error:t}))})))})))}))}).\u0275fac=function(t){return new(t||At)(g.Yb(Tt.a),g.Yb(Nt))},At.\u0275prov=g.Kb({token:At,factory:At.\u0275fac}),At);n.d(e,"UserModule",(function(){return Et}));var Bt,Et=((Bt=function t(){_classCallCheck(this,t)}).\u0275mod=g.Mb({type:Bt}),Bt.\u0275inj=g.Lb({factory:function(t){return new(t||Bt)},imports:[[r.c,i.l,s.a,c.a,St,a.j.forFeature("users",R),Tt.b.forFeature([kt,zt])]]}),Bt)}}]);