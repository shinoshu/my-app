(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Y71p:function(t,e,n){"use strict";n.r(e);var s=n("ofXK"),i=n("3Pt+"),r=n("YUcS"),c=n("hctd"),o=n("tyNb"),a=n("kt0X"),u=n("M9IT"),d=n("Dh3D"),b=n("+0xr");const l=Object(a.o)("[UsersApi] Load UsersApis"),p=Object(a.o)("[UsersApi] Load UsersApis Success",Object(a.t)()),h=Object(a.o)("[UsersApi] Load UsersApis Failure",Object(a.t)()),f=Object(a.o)("[UsersApi] Add UsersApis",Object(a.t)()),m=Object(a.o)("[UsersApi] Add UsersApis Success"),O=Object(a.o)("[UsersApi] Add UsersApis Failure",Object(a.t)()),j=Object(a.o)("[UsersApi] Delete UsersApis",Object(a.t)()),U=Object(a.o)("[UsersApi] Delete UsersApis Success",Object(a.t)()),g=Object(a.o)("[UsersApi] Delete UsersApis Failure",Object(a.t)());var y=n("fXoL");const A=function(){var t={EntitiesOnly:0,Both:1,None:2};return t[t.EntitiesOnly]="EntitiesOnly",t[t.Both]="Both",t[t.None]="None",t}();function v(t){return function(e,n){const s={ids:[...n.ids],entities:Object.assign({},n.entities)},i=t(e,s);return i===A.Both?Object.assign({},n,s):i===A.EntitiesOnly?Object.assign({},n,{entities:s.entities}):n}}function w(t,e){const n=e(t);return Object(y.W)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),n}function I(t){function e(e,n){const s=w(e,t);return s in n.entities?A.None:(n.ids.push(s),n.entities[s]=e,A.Both)}function n(t,n){let s=!1;for(const i of t)s=e(i,n)!==A.None||s;return s?A.Both:A.None}function s(t,e){const n=(t instanceof Array?t:e.ids.filter(n=>t(e.entities[n]))).filter(t=>t in e.entities).map(t=>delete e.entities[t]).length>0;return n&&(e.ids=e.ids.filter(t=>t in e.entities)),n?A.Both:A.None}function i(e,n){const s={};return(e=e.filter(t=>t.id in n.entities)).length>0?e.filter(e=>function(e,n,s){const i=Object.assign({},s.entities[n.id],n.changes),r=w(i,t),c=r!==n.id;return c&&(e[n.id]=r,delete s.entities[n.id]),s.entities[r]=i,c}(s,e,n)).length>0?(n.ids=n.ids.map(t=>s[t]||t),A.Both):A.EntitiesOnly:A.None}function r(e,s){const r=[],c=[];for(const n of e){const e=w(n,t);e in s.entities?c.push({id:e,changes:n}):r.push(n)}const o=i(c,s),a=n(r,s);switch(!0){case a===A.None&&o===A.None:return A.None;case a===A.Both||o===A.Both:return A.Both;default:return A.EntitiesOnly}}return{removeAll:function(t){return Object.assign({},t,{ids:[],entities:{}})},addOne:v(e),addMany:v(n),addAll:v((function(t,e){return e.ids=[],e.entities={},n(t,e),A.Both})),updateOne:v((function(t,e){return i([t],e)})),updateMany:v(i),upsertOne:v((function(t,e){return r([t],e)})),upsertMany:v(r),removeOne:v((function(t,e){return s([t],e)})),removeMany:v(s),map:v((function(t,e){return i(e.ids.reduce((n,s)=>{const i=t(e.entities[s]);return i!==e.entities[s]&&n.push({id:s,changes:i}),n},[]).filter(({id:t})=>t in e.entities),e)}))}}const T=Object(a.o)("[User/API] Load Users",Object(a.t)()),S=Object(a.o)("[User/API] Add User",Object(a.t)()),C=Object(a.o)("[User/API] Upsert User",Object(a.t)()),P=Object(a.o)("[User/API] Add Users",Object(a.t)()),M=Object(a.o)("[User/API] Upsert Users",Object(a.t)()),D=Object(a.o)("[User/API] Update User",Object(a.t)()),N=Object(a.o)("[User/API] Update Users",Object(a.t)()),$=Object(a.o)("[User/API] Delete User",Object(a.t)()),x=Object(a.o)("[User/API] Delete Users",Object(a.t)()),z=Object(a.o)("[User/API] Clear Users"),k=Object(a.o)("[User/API] Select User",Object(a.t)()),B=function(t={}){const{selectId:e,sortComparer:n}=Object.assign({sortComparer:!1,selectId:t=>t.id},t),s={getInitialState:function(t={}){return Object.assign({ids:[],entities:{}},t)}},i={getSelectors:function(t){const e=t=>t.ids,n=t=>t.entities,s=Object(a.r)(e,n,(t,e)=>t.map(t=>e[t])),i=Object(a.r)(e,t=>t.length);return t?{selectIds:Object(a.r)(t,e),selectEntities:Object(a.r)(t,n),selectAll:Object(a.r)(t,s),selectTotal:Object(a.r)(t,i)}:{selectIds:e,selectEntities:n,selectAll:s,selectTotal:i}}},r=n?function(t,e){const{removeOne:n,removeMany:s,removeAll:i}=I(t);function r(e,n){const s=e.filter(e=>!(w(e,t)in n.entities));return 0===s.length?A.None:(a(s,n),A.Both)}function c(e,n){const s=[],i=e.filter(e=>function(e,n,s){if(!(n.id in s.entities))return!1;const i=Object.assign({},s.entities[n.id],n.changes),r=w(i,t);return delete s.entities[n.id],e.push(i),r!==n.id}(s,e,n)).length>0;if(0===s.length)return A.None;{const t=n.ids,e=[];return n.ids=n.ids.filter((t,s)=>t in n.entities||(e.push(s),!1)),a(s,n),!i&&e.every(e=>n.ids[e]===t[e])?A.EntitiesOnly:A.Both}}function o(e,n){const s=[],i=[];for(const r of e){const e=w(r,t);e in n.entities?i.push({id:e,changes:r}):s.push(r)}const o=c(i,n),a=r(s,n);switch(!0){case a===A.None&&o===A.None:return A.None;case a===A.Both||o===A.Both:return A.Both;default:return A.EntitiesOnly}}function a(n,s){n.sort(e);const i=[];let r=0,c=0;for(;r<n.length&&c<s.ids.length;){const o=n[r],a=w(o,t),u=s.ids[c];e(o,s.entities[u])<=0?(i.push(a),r++):(i.push(u),c++)}s.ids=i.concat(r<n.length?n.slice(r).map(t):s.ids.slice(c)),n.forEach((e,n)=>{s.entities[t(e)]=e})}return{removeOne:n,removeMany:s,removeAll:i,addOne:v((function(t,e){return r([t],e)})),updateOne:v((function(t,e){return c([t],e)})),upsertOne:v((function(t,e){return o([t],e)})),addAll:v((function(t,e){return e.entities={},e.ids=[],r(t,e),A.Both})),addMany:v(r),updateMany:v(c),upsertMany:v(o),map:v((function(t,e){return c(e.ids.reduce((n,s)=>{const i=t(e.entities[s]);return i!==e.entities[s]&&n.push({id:s,changes:i}),n},[]),e)}))}}(e,n):I(e);return Object.assign({selectId:e,sortComparer:n},s,i,r)}({selectId:t=>t.id}),L=B.getInitialState({selectedUserId:null}),E=Object(a.q)(L,Object(a.s)(S,(t,e)=>B.addOne(e.user,t)),Object(a.s)(C,(t,e)=>B.upsertOne(e.user,t)),Object(a.s)(P,p,(t,e)=>B.addMany(e.users,t)),Object(a.s)(M,(t,e)=>B.upsertMany(e.users,t)),Object(a.s)(D,(t,e)=>B.updateOne(e.user,t)),Object(a.s)(N,(t,e)=>B.updateMany(e.users,t)),Object(a.s)($,U,(t,e)=>B.removeOne(e.id,t)),Object(a.s)(x,(t,e)=>B.removeMany(e.ids,t)),Object(a.s)(T,(t,e)=>B.addAll(e.users,t)),Object(a.s)(z,t=>B.removeAll(t)),Object(a.s)(k,(t,{id:e})=>Object.assign(Object.assign({},t),{selectedUserId:e})));function _(t,e){return E(t,e)}const F=Object(a.q)({loaded:!1,loading:!1,ids:[]},Object(a.s)(l,t=>Object.assign(Object.assign({},t),{loading:!0})),Object(a.s)(p,(t,{users:e})=>({loaded:!0,loading:!1,ids:e.map(t=>t.id)})),Object(a.s)(h,t=>Object.assign({},t)));function q(t,e){return F(t,e)}function R(t,e){return Object(a.m)({users:_,usersApi:q})(t,e)}const Y=Object(a.p)("users"),V=Object(a.r)(Y,t=>t.users),{selectEntities:G,selectAll:H}=B.getSelectors(V),J=Object(a.r)(V,t=>t.selectedUserId),K=Object(a.r)(G,J,(t,e)=>e&&t[e]);var X=n("XiUz"),W=n("bTqV"),Q=n("NFeN");function Z(t,e){1&t&&(y.Ub(0,"th",15),y.zc(1,"Id"),y.Tb())}function tt(t,e){if(1&t&&(y.Ub(0,"td",16),y.zc(1),y.Tb()),2&t){const t=e.$implicit;y.Cb(1),y.Ac(t.id)}}function et(t,e){1&t&&(y.Ub(0,"th",17),y.zc(1,"Name"),y.Tb())}function nt(t,e){if(1&t&&(y.Ub(0,"td",16),y.zc(1),y.Tb()),2&t){const t=e.$implicit;y.Cb(1),y.Ac(t.first_name)}}function st(t,e){1&t&&(y.Ub(0,"th",17),y.zc(1,"Edit"),y.Tb())}function it(t,e){if(1&t){const t=y.Vb();y.Ub(0,"td",16),y.Ub(1,"button",18),y.cc("click",(function(n){y.sc(t);const s=e.$implicit;return y.gc().router.navigate(["/users/edit/"+s.id])})),y.Ub(2,"mat-icon"),y.zc(3,"edit"),y.Tb(),y.Tb(),y.Tb()}}function rt(t,e){1&t&&(y.Ub(0,"th",17),y.zc(1,"Delete"),y.Tb())}function ct(t,e){if(1&t){const t=y.Vb();y.Ub(0,"td",16),y.Ub(1,"button",18),y.cc("click",(function(n){y.sc(t);const s=e.$implicit;return y.gc().delete(s.id)})),y.Ub(2,"mat-icon"),y.zc(3,"delete"),y.Tb(),y.Tb(),y.Tb()}}function ot(t,e){1&t&&y.Pb(0,"tr",19)}function at(t,e){1&t&&y.Pb(0,"tr",20)}const ut=function(){return[10,25,50,100]};let dt=(()=>{class t{constructor(t,e){this.store=t,this.router=e,this.displayedColumns=["id","name","edit","delete"]}ngOnInit(){this.store.dispatch(l()),this.users$=this.store.pipe(Object(a.u)(H))}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterViewInit(){this.subscription=this.users$.subscribe(t=>{this.dataSource=new b.k(t),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator})}delete(t){this.store.dispatch(j({id:t}))}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(a.h),y.Ob(o.b))},t.\u0275cmp=y.Ib({type:t,selectors:[["app-user-list-page"]],viewQuery:function(t,e){var n;1&t&&(y.Dc(u.a,!0),y.Dc(d.a,!0)),2&t&&(y.pc(n=y.dc())&&(e.paginator=n.first),y.pc(n=y.dc())&&(e.sort=n.first))},decls:22,vars:8,consts:[["fxLayout","column",1,"container"],["fxLayout","row","fxLayoutAlign","end"],["mat-fab","",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","edit"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(y.Ub(0,"div",0),y.Ub(1,"div",1),y.Ub(2,"button",2),y.cc("click",(function(t){return e.router.navigate(["/users/add"])})),y.Ub(3,"mat-icon"),y.zc(4,"add"),y.Tb(),y.Tb(),y.Tb(),y.Ub(5,"table",3),y.Sb(6,4),y.yc(7,Z,2,0,"th",5),y.yc(8,tt,2,1,"td",6),y.Rb(),y.Sb(9,7),y.yc(10,et,2,0,"th",8),y.yc(11,nt,2,1,"td",6),y.Rb(),y.Sb(12,9),y.yc(13,st,2,0,"th",8),y.yc(14,it,4,0,"td",6),y.Rb(),y.Sb(15,10),y.yc(16,rt,2,0,"th",8),y.yc(17,ct,4,0,"td",6),y.Rb(),y.yc(18,ot,1,0,"tr",11),y.yc(19,at,1,0,"tr",12),y.Tb(),y.Pb(20,"mat-paginator",13,14),y.Tb()),2&t&&(y.Cb(5),y.lc("dataSource",e.dataSource),y.Cb(13),y.lc("matHeaderRowDef",e.displayedColumns),y.Cb(1),y.lc("matRowDefColumns",e.displayedColumns),y.Cb(1),y.lc("length",null==e.dataSource?null:null==e.dataSource.data?null:e.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",y.mc(7,ut)))},directives:[X.b,X.a,W.a,Q.a,b.j,d.a,b.c,b.e,b.b,b.g,b.i,u.a,b.d,d.b,b.a,b.f,b.h],styles:[".container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:20px}"]}),t})();var bt=n("quSY"),lt=n("lJxs"),pt=n("Wp6s"),ht=n("kmnG"),ft=n("qFsG");function mt(t,e){1&t&&(y.Ub(0,"mat-error"),y.zc(1," First name is "),y.Ub(2,"strong"),y.zc(3,"required"),y.Tb(),y.Tb())}function Ot(t,e){1&t&&(y.Ub(0,"mat-error"),y.zc(1," Last name is "),y.Ub(2,"strong"),y.zc(3,"required"),y.Tb(),y.Tb())}let jt=(()=>{class t{constructor(t,e,n){this.fb=t,this.store=e,this.route=n,this.form=this.fb.group({first_name:[null,i.m.required],last_name:[null,i.m.required]}),this.subscription=new bt.a;const s=this.route.params.pipe(Object(lt.a)(t=>k({id:t.id}))).subscribe(t=>this.store.dispatch(t));this.subscription.add(s)}ngOnInit(){this.user$=this.store.pipe(Object(a.u)(K));const t=this.user$.subscribe(t=>t&&this.form.patchValue(t));this.subscription.add(t)}ngOnDestroy(){this.subscription.unsubscribe()}onSubmit(){this.store.dispatch(f(this.form.value))}}return t.\u0275fac=function(e){return new(e||t)(y.Ob(i.c),y.Ob(a.h),y.Ob(o.a))},t.\u0275cmp=y.Ib({type:t,selectors:[["app-user-form-page"]],decls:18,vars:3,consts:[["novalidate","",3,"formGroup","ngSubmit"],[1,"shipping-card"],[1,"row"],[1,"col"],[1,"full-width"],["matInput","","placeholder","First name","formControlName","first_name"],[4,"ngIf"],["matInput","","placeholder","Last name","formControlName","last_name"],["mat-raised-button","","color","primary","type","submit"]],template:function(t,e){1&t&&(y.Ub(0,"form",0),y.cc("ngSubmit",(function(t){return e.onSubmit()})),y.Ub(1,"mat-card",1),y.Ub(2,"mat-card-header"),y.Ub(3,"mat-card-title"),y.zc(4,"User Form"),y.Tb(),y.Tb(),y.Ub(5,"mat-card-content"),y.Ub(6,"div",2),y.Ub(7,"div",3),y.Ub(8,"mat-form-field",4),y.Pb(9,"input",5),y.yc(10,mt,4,0,"mat-error",6),y.Tb(),y.Tb(),y.Ub(11,"div",3),y.Ub(12,"mat-form-field",4),y.Pb(13,"input",7),y.yc(14,Ot,4,0,"mat-error",6),y.Tb(),y.Tb(),y.Tb(),y.Tb(),y.Ub(15,"mat-card-actions"),y.Ub(16,"button",8),y.zc(17,"Submit"),y.Tb(),y.Tb(),y.Tb(),y.Tb()),2&t&&(y.lc("formGroup",e.form),y.Cb(10),y.lc("ngIf",e.form.controls.first_name.hasError("required")),y.Cb(4),y.lc("ngIf",e.form.controls.last_name.hasError("required")))},directives:[i.n,i.j,i.e,pt.a,pt.d,pt.f,pt.c,ht.b,ft.b,i.b,i.i,i.d,s.k,pt.b,W.a,ht.a],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.col[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}"]}),t})();const Ut=[{path:"",component:dt,data:{title:"User List"}},{path:"add",component:jt,data:{title:"User Form"}},{path:"edit/:id",component:jt,data:{title:"User Form"}}];let gt=(()=>{class t{}return t.\u0275mod=y.Mb({type:t}),t.\u0275inj=y.Lb({factory:function(e){return new(e||t)},imports:[[o.d.forChild(Ut)],o.d]}),t})();var yt=n("snw9");let At=(()=>{class t{constructor(t){this.actions$=t}}return t.\u0275fac=function(e){return new(e||t)(y.Yb(yt.a))},t.\u0275prov=y.Kb({token:t,factory:t.\u0275fac}),t})();var vt=n("eIep"),wt=n("JIr8"),It=n("5+tZ"),Tt=n("LRne"),St=n("tk/3");let Ct=(()=>{class t{constructor(t){this.http=t,this.apiPath="http://localhost:3000/api/users"}getUser(t){return this.http.get(`${this.apiPath}/${t}`)}getUserList(){return this.http.get(this.apiPath)}addUser(t){return this.http.post(this.apiPath,t)}updateUser(t){return this.http.post(`${this.apiPath}/${t.id}`,t)}deleteUser(t){return this.http.delete(`${this.apiPath}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(y.Yb(St.a))},t.\u0275prov=y.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pt=(()=>{class t{constructor(t,e){this.actions$=t,this.userService=e,this.loadUsersApis$=Object(yt.c)(()=>this.actions$.pipe(Object(yt.d)(l),Object(vt.a)(()=>this.userService.getUserList().pipe(Object(lt.a)(t=>p({users:t})),Object(wt.a)(t=>Object(Tt.a)(h({error:t}))))))),this.addUsersApis$=Object(yt.c)(()=>this.actions$.pipe(Object(yt.d)(f),Object(It.a)(({user:t})=>this.userService.addUser(t).pipe(Object(lt.a)(()=>m()),Object(wt.a)(t=>Object(Tt.a)(O({error:t}))))))),this.deleteUsersApis$=Object(yt.c)(()=>this.actions$.pipe(Object(yt.d)(j),Object(It.a)(({id:t})=>this.userService.deleteUser(t).pipe(Object(lt.a)(()=>U({id:t})),Object(wt.a)(t=>Object(Tt.a)(g({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(y.Yb(yt.a),y.Yb(Ct))},t.\u0275prov=y.Kb({token:t,factory:t.\u0275fac}),t})();n.d(e,"UserModule",(function(){return Mt}));let Mt=(()=>{class t{}return t.\u0275mod=y.Mb({type:t}),t.\u0275inj=y.Lb({factory:function(e){return new(e||t)},imports:[[s.c,i.l,r.a,c.a,gt,a.j.forFeature("users",R),yt.b.forFeature([At,Pt])]]}),t})()}}]);